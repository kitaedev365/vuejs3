(function(){"use strict";var t={2883:function(t,e,n){var a=n(5130),l=n(6768);const o={class:"top-bar"},u={class:"top-bar-left"},r={class:"dropdown menu","data-dropdown-menu":""};function s(t,e){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("header",o,[(0,l.Lk)("div",u,[(0,l.Lk)("ul",r,[(0,l.Lk)("li",null,[(0,l.bF)(n,{to:"/"},{default:(0,l.k6)((()=>e[0]||(e[0]=[(0,l.eW)("메인으로이동")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(n,{to:"/products"},{default:(0,l.k6)((()=>e[1]||(e[1]=[(0,l.eW)("상품목록")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(n,{to:"/products/insert"},{default:(0,l.k6)((()=>e[2]||(e[2]=[(0,l.eW)("상품 등록")]))),_:1})])])])])}var c=n(1241);const i={},d=(0,c.A)(i,[["render",s]]);var p=d;const m={class:"footer"};function v(t,e){return(0,l.uX)(),(0,l.CE)("footer",m,e[0]||(e[0]=[(0,l.Lk)("div",{class:"grid-container"},[(0,l.Lk)("div",{class:"grid-x grid-padding-x align-center"},[(0,l.Lk)("div",{class:"cell shrink"},[(0,l.Lk)("p",null,"© 2024 온라인 쇼핑몰. 모든 권리 보유.")])])],-1)]))}const k={},L=(0,c.A)(k,[["render",v],["__scopeId","data-v-de8871f6"]]);var g=L;const h={class:"grid-container"};var f={__name:"App",setup(t){return(t,e)=>{const n=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(p),(0,l.Lk)("main",h,[(0,l.bF)(n)]),(0,l.bF)(g)])}}};const b=f;var P=b,_=n(1387);const y={class:"grid-container"};function C(t,e){return(0,l.uX)(),(0,l.CE)("div",y,e[0]||(e[0]=[(0,l.Lk)("h1",null,"온라인 쇼핑몰에 오신 것을 환영합니다!",-1),(0,l.Lk)("hr",null,null,-1),(0,l.Lk)("p",null,"원하는 상품을 찾아보세요.",-1)]))}const E={},D=(0,c.A)(E,[["render",C]]);var w=D,T=(n(4114),n(4232)),O=n(144),R=n(782);const U={class:"grid-container"},W={class:"hover"},A=["onClick"],x={class:"pagination"},F=["disabled"],S=["disabled"],X=10;var j={__name:"ProductList",setup(t){const e=(0,R.Pj)(),n=(0,_.rd)(),a=e.state.products,o=(0,O.KR)(1),u=(0,l.EW)((()=>{const t=(o.value-1)*X,e=t+X;return a.slice(t,e)})),r=(0,l.EW)((()=>Math.ceil(a.length/X))),s=async()=>{await e.dispatch("fetchProducts")},c=t=>{n.push({name:"ProductDetail",params:{pno:t}})},i=()=>{n.push({name:"ProductInsert"})},d=t=>{const e=new Date(t);return e.toLocaleDateString()},p=t=>{t>0&&t<=r.value&&(o.value=t)};return(0,l.sV)((()=>{s()})),(t,e)=>((0,l.uX)(),(0,l.CE)("div",U,[e[3]||(e[3]=(0,l.Lk)("h2",null,"상품 목록",-1)),(0,l.Lk)("table",W,[e[2]||(e[2]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"상품번호"),(0,l.Lk)("th",null,"상품명"),(0,l.Lk)("th",null,"조회수"),(0,l.Lk)("th",null,"등록일")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(u.value,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.pno,onClick:e=>c(t.pno),style:{cursor:"pointer"}},[(0,l.Lk)("td",null,(0,T.v_)(t.pno),1),(0,l.Lk)("td",null,(0,T.v_)(t.pname),1),(0,l.Lk)("td",null,(0,T.v_)(t.hits),1),(0,l.Lk)("td",null,(0,T.v_)(d(t.resdate)),1)],8,A)))),128))])]),(0,l.Lk)("div",x,[(0,l.Lk)("button",{class:"button",disabled:1===o.value,onClick:e[0]||(e[0]=t=>p(o.value-1))},"Previous",8,F),(0,l.Lk)("span",null,"Page "+(0,T.v_)(o.value)+" of "+(0,T.v_)(r.value),1),(0,l.Lk)("button",{class:"button",disabled:o.value===r.value,onClick:e[1]||(e[1]=t=>p(o.value+1))},"Next",8,S)]),(0,l.Lk)("button",{class:"button",onClick:i},"[상품 등록]")]))}};const I=(0,c.A)(j,[["__scopeId","data-v-10a7fc44"]]);var V=I;const $={class:"grid-container"},q={class:"grid-x grid-padding-x"},K={class:"medium-12 cell"},M={class:"medium-12 cell"},J={class:"medium-12 cell"},N={class:"medium-4 cell"},z={class:"button"},B={class:"medium-4 cell"},G={class:"button"},H={class:"medium-4 cell"},Q={class:"button"};var Y={__name:"ProductInsert",setup(t){const e=(0,R.Pj)(),n=(0,_.rd)(),o=(0,O.KR)({cate:"base",pname:"",pcontent:"",img1:null,img2:null,img3:null}),u=(t,e)=>{const n=e.target.files[0];n&&(o.value[`img${t}`]=n)},r=async()=>{const t=new FormData;t.append("cate",o.value.cate),t.append("pname",o.value.pname),t.append("pcontent",o.value.pcontent),o.value.img1&&t.append("img1",o.value.img1),o.value.img2&&t.append("img2",o.value.img2),o.value.img3&&t.append("img3",o.value.img3),await e.dispatch("insertProduct",t),n.push({name:"ProductList"})};return(t,e)=>((0,l.uX)(),(0,l.CE)("div",$,[e[14]||(e[14]=(0,l.Lk)("h2",null,"상품 등록",-1)),(0,l.Lk)("form",{onSubmit:(0,a.D$)(r,["prevent"])},[(0,l.Lk)("div",q,[(0,l.Lk)("div",K,[(0,l.Lk)("label",null,[e[6]||(e[6]=(0,l.eW)("상품명 ")),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.pname=t),required:""},null,512),[[a.Jo,o.value.pname]])])]),(0,l.Lk)("div",M,[(0,l.Lk)("label",null,[e[7]||(e[7]=(0,l.eW)("상품내용 ")),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.pcontent=t),required:""},null,512),[[a.Jo,o.value.pcontent]])])]),(0,l.Lk)("div",J,[(0,l.Lk)("label",null,[e[9]||(e[9]=(0,l.eW)("카테고리 ")),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.cate=t),required:""},e[8]||(e[8]=[(0,l.Lk)("option",{value:"base",selected:""},"본 품",-1),(0,l.Lk)("option",{value:"acc"},"액세사리",-1),(0,l.Lk)("option",{value:"gift"},"선물",-1)]),512),[[a.u1,o.value.cate]])])]),(0,l.Lk)("div",N,[(0,l.Lk)("label",z,[e[10]||(e[10]=(0,l.eW)("상품이미지1 ")),(0,l.Lk)("input",{type:"file",onChange:e[3]||(e[3]=t=>u(1,t)),accept:"image/*",class:"show-for-sr"},null,32)])]),(0,l.Lk)("div",B,[(0,l.Lk)("label",G,[e[11]||(e[11]=(0,l.eW)("상품이미지2 ")),(0,l.Lk)("input",{type:"file",onChange:e[4]||(e[4]=t=>u(2,t)),accept:"image/*",class:"show-for-sr"},null,32)])]),(0,l.Lk)("div",H,[(0,l.Lk)("label",Q,[e[12]||(e[12]=(0,l.eW)("상품이미지3 ")),(0,l.Lk)("input",{type:"file",onChange:e[5]||(e[5]=t=>u(3,t)),accept:"image/*",class:"show-for-sr"},null,32)])])]),e[13]||(e[13]=(0,l.Lk)("button",{type:"submit",class:"button"},"[상품 등록]",-1))],32)]))}};const Z=(0,c.A)(Y,[["__scopeId","data-v-7e1b16f0"]]);var tt=Z;const et={class:"grid-container"},nt={key:0},at={class:"grid-x grid-padding-x"},lt=["src"],ot={key:1};var ut={__name:"ProductDetail",setup(t){const e=(0,R.Pj)(),n=(0,_.rd)(),a=(0,_.lq)(),o=a.params.pno,u=(0,l.EW)((()=>e.state.currentProduct)),r=async()=>{await e.dispatch("fetchProductDetail",o)},s=()=>{n.push({name:"ProductEdit",params:{pno:o}})},c=async()=>{confirm("정말로 이 상품을 삭제하시겠습니까?")&&(await e.dispatch("deleteProduct",o),n.push({name:"ProductList"}))},i=()=>{n.push({name:"ProductList"})},d=t=>{const e=new Date(t);return e.toLocaleString()};return(0,l.sV)((()=>{r()})),(t,e)=>((0,l.uX)(),(0,l.CE)("div",et,[e[6]||(e[6]=(0,l.Lk)("h2",null,"상품 상세 정보",-1)),u.value?((0,l.uX)(),(0,l.CE)("div",nt,[(0,l.Lk)("p",null,[e[0]||(e[0]=(0,l.Lk)("strong",null,"상품번호:",-1)),(0,l.eW)(" "+(0,T.v_)(u.value.pno),1)]),(0,l.Lk)("p",null,[e[1]||(e[1]=(0,l.Lk)("strong",null,"상품명:",-1)),(0,l.eW)(" "+(0,T.v_)(u.value.pname),1)]),(0,l.Lk)("p",null,[e[2]||(e[2]=(0,l.Lk)("strong",null,"상품내용:",-1)),(0,l.eW)(" "+(0,T.v_)(u.value.pcontent),1)]),(0,l.Lk)("p",null,[e[3]||(e[3]=(0,l.Lk)("strong",null,"등록일시:",-1)),(0,l.eW)(" "+(0,T.v_)(d(u.value.resdate)),1)]),(0,l.Lk)("p",null,[e[4]||(e[4]=(0,l.Lk)("strong",null,"조회수:",-1)),(0,l.eW)(" "+(0,T.v_)(u.value.hits),1)]),(0,l.Lk)("div",at,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(u.value.images,((t,e)=>((0,l.uX)(),(0,l.CE)("div",{class:"medium-4 cell",key:e},[(0,l.Lk)("img",{src:t,alt:"상품 이미지",style:{width:"100%"}},null,8,lt)])))),128))]),(0,l.Lk)("button",{class:"button",onClick:s},"[상품 정보 수정]"),(0,l.Lk)("button",{class:"button alert",onClick:c},"[상품 정보 삭제]"),(0,l.Lk)("button",{class:"button",onClick:i},"[상품목록]")])):((0,l.uX)(),(0,l.CE)("div",ot,e[5]||(e[5]=[(0,l.Lk)("p",null,"상품을 불러오는 중입니다...",-1)])))]))}};const rt=(0,c.A)(ut,[["__scopeId","data-v-11c62daa"]]);var st=rt;n(8992),n(3949);const ct={class:"grid-container"},it={class:"grid-x grid-padding-x"},dt={class:"medium-6 cell"},pt={class:"medium-6 cell"},mt=["onChange"],vt=["src"],kt={class:"medium-6 cell"},Lt={class:"medium-6 cell"};var gt={__name:"ProductEdit",setup(t){const e=(0,R.Pj)(),n=(0,_.rd)(),o=(0,_.lq)(),u=o.params.pno,r=(0,O.KR)({pno:"",pname:"",pcontent:"",images:[],resdate:"",hits:0,imgFiles:[]}),s=async()=>{await e.dispatch("fetchProductDetail",u);const t=e.state.currentProduct;r.value={pno:t.pno,pname:t.pname,pcontent:t.pcontent,images:[t.img1,t.img2,t.img3],resdate:t.resdate,hits:t.hits,imgFiles:[null,null,null]}},c=t=>e=>{const n=e.target.files[0];if(n){r.value.imgFiles[t]=n;const e=new FileReader;e.onload=e=>{r.value.images[t]=e.target.result},e.readAsDataURL(n)}},i=async()=>{const t=new FormData;t.append("pname",r.value.pname),t.append("pcontent",r.value.pcontent),r.value.imgFiles.forEach(((e,n)=>{e&&t.append(`img${n+1}`,e)})),await e.dispatch("updateProduct",{pno:u,formData:t}),n.push({name:"ProductList"})},d=()=>{n.push({name:"ProductList"})},p=t=>{const e=new Date(t);return e.toLocaleString()};return(0,l.sV)((()=>{s()})),(t,e)=>((0,l.uX)(),(0,l.CE)("div",ct,[e[7]||(e[7]=(0,l.Lk)("h2",null,"상품 정보 수정",-1)),(0,l.Lk)("form",{onSubmit:(0,a.D$)(i,["prevent"])},[(0,l.Lk)("div",it,[(0,l.Lk)("div",dt,[(0,l.Lk)("label",null,[e[2]||(e[2]=(0,l.eW)("상품명 ")),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.value.pname=t),required:""},null,512),[[a.Jo,r.value.pname]])])]),(0,l.Lk)("div",pt,[(0,l.Lk)("label",null,[e[3]||(e[3]=(0,l.eW)("상품내용 ")),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.pcontent=t),required:""},null,512),[[a.Jo,r.value.pcontent]])])]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value.images,((t,e)=>((0,l.uX)(),(0,l.CE)("div",{class:"medium-4 cell",key:e},[(0,l.Lk)("label",null,[(0,l.eW)("상품이미지 "+(0,T.v_)(e+1)+" ",1),(0,l.Lk)("input",{type:"file",onChange:t=>c(e),accept:"image/*"},null,40,mt),(0,l.Lk)("img",{src:t,alt:"현재 이미지",style:{width:"100%","margin-top":"0.5rem"}},null,8,vt)])])))),128)),(0,l.Lk)("div",kt,[(0,l.Lk)("p",null,[e[4]||(e[4]=(0,l.Lk)("strong",null,"등록일시:",-1)),(0,l.eW)(" "+(0,T.v_)(p(r.value.resdate)),1)])]),(0,l.Lk)("div",Lt,[(0,l.Lk)("p",null,[e[5]||(e[5]=(0,l.Lk)("strong",null,"조회수:",-1)),(0,l.eW)(" "+(0,T.v_)(r.value.hits),1)])])]),e[6]||(e[6]=(0,l.Lk)("button",{type:"submit",class:"button"},"[상품 정보 수정]",-1)),(0,l.Lk)("button",{type:"button",class:"button",onClick:d},"[상품목록]")],32)]))}};const ht=(0,c.A)(gt,[["__scopeId","data-v-650498e4"]]);var ft=ht;const bt=[{path:"/",name:"Main",component:w},{path:"/products",name:"ProductList",component:V},{path:"/products/insert",name:"ProductInsert",component:tt},{path:"/products/detail/:pno",name:"ProductDetail",component:st,props:!0},{path:"/products/edit/:pno",name:"ProductEdit",component:ft,props:!0}],Pt=(0,_.aE)({history:(0,_.LA)(),routes:bt});var _t=Pt,yt=(n(4520),n(4373));const Ct=(0,R.y$)({state:{products:[],currentProduct:null},mutations:{SET_PRODUCTS(t,e){t.products=e},SET_CURRENT_PRODUCT(t,e){t.currentProduct=e},ADD_PRODUCT(t,e){t.products.push(e)},UPDATE_PRODUCT(t,e){const n=t.products.findIndex((t=>t.pno===e.pno));-1!==n&&t.products.splice(n,1,e)},DELETE_PRODUCT(t,e){t.products=t.products.filter((t=>t.pno!==e))},CLEAR_CURRENT_PRODUCT(t){t.currentProduct=null}},actions:{async fetchProducts({commit:t}){try{const e=await yt.A.get("http://localhost:8081/products/list");t("SET_PRODUCTS",e.data)}catch(e){console.error("상품 목록을 가져오는 중 오류 발생:",e.message)}},async fetchProductDetail({commit:t},e){try{const n=await yt.A.get(`http://localhost:8081/products/detail/${e}`);t("SET_CURRENT_PRODUCT",n.data)}catch(n){console.error("상품 상세 정보를 가져오는 중 오류 발생:",n.message)}},async insertProduct({commit:t},e){try{const n=await yt.A.post("http://localhost:8081/products/insert",e,{headers:{"Content-Type":"multipart/form-data"}});t("ADD_PRODUCT",n.data)}catch(n){console.error("상품을 등록하는 중 오류 발생:",n.message)}},async updateProduct({commit:t},{pno:e,formData:n}){try{const a=await yt.A.put(`http://localhost:8081/products/update/${e}`,n,{headers:{"Content-Type":"multipart/form-data"}});t("UPDATE_PRODUCT",a.data)}catch(a){console.error("상품을 수정하는 중 오류 발생:",a.message)}},async deleteProduct({commit:t},e){try{await yt.A.delete(`http://localhost:8081/products/delete/${e}`),t("DELETE_PRODUCT",e)}catch(n){console.error("상품을 삭제하는 중 오류 발생:",n.message)}}},getters:{allProducts:t=>t.products,getCurrentProduct:t=>t.currentProduct}});var Et=Ct;n(8392);(0,a.Ef)(P).use(Et).use(_t).mount("#app")}},e={};function n(a){var l=e[a];if(void 0!==l)return l.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,a,l,o){if(!a){var u=1/0;for(i=0;i<t.length;i++){a=t[i][0],l=t[i][1],o=t[i][2];for(var r=!0,s=0;s<a.length;s++)(!1&o||u>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[s])}))?a.splice(s--,1):(r=!1,o<u&&(u=o));if(r){t.splice(i--,1);var c=l();void 0!==c&&(e=c)}}return e}o=o||0;for(var i=t.length;i>0&&t[i-1][2]>o;i--)t[i]=t[i-1];t[i]=[a,l,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var l,o,u=a[0],r=a[1],s=a[2],c=0;if(u.some((function(e){return 0!==t[e]}))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(s)var i=s(n)}for(e&&e(a);c<u.length;c++)o=u[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(i)},a=self["webpackChunkch10_myapp1"]=self["webpackChunkch10_myapp1"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(2883)}));a=n.O(a)})();
//# sourceMappingURL=app.41dd7adc.js.map