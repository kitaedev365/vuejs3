(function(){"use strict";var t={5879:function(t,a,e){var n=e(5130),l=e(6768);const o={class:"navbar is-primary",role:"navigation","aria-label":"main navigation"},s={class:"navbar-brand"},i={id:"navbarBasic",class:"navbar-menu"},r={class:"navbar-start"};function u(t,a){const e=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("nav",o,[(0,l.Lk)("div",s,[(0,l.bF)(e,{to:"/",class:"navbar-item"},{default:(0,l.k6)((()=>a[0]||(a[0]=[(0,l.eW)(" 자료실 애플리케이션 ")]))),_:1}),a[1]||(a[1]=(0,l.Lk)("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasic"},[(0,l.Lk)("span",{"aria-hidden":"true"}),(0,l.Lk)("span",{"aria-hidden":"true"}),(0,l.Lk)("span",{"aria-hidden":"true"})],-1))]),(0,l.Lk)("div",i,[(0,l.Lk)("div",r,[(0,l.bF)(e,{to:"/",class:"navbar-item"},{default:(0,l.k6)((()=>a[2]||(a[2]=[(0,l.eW)("메인으로이동")]))),_:1}),(0,l.bF)(e,{to:"/datalist",class:"navbar-item"},{default:(0,l.k6)((()=>a[3]||(a[3]=[(0,l.eW)("자료실목록")]))),_:1}),(0,l.bF)(e,{to:"/datainsert",class:"navbar-item"},{default:(0,l.k6)((()=>a[4]||(a[4]=[(0,l.eW)("자료 등록")]))),_:1})])])])}var c=e(1241);const d={},v=(0,c.A)(d,[["render",u]]);var p=v;const k={class:"footer"};function L(t,a){return(0,l.uX)(),(0,l.CE)("footer",k,a[0]||(a[0]=[(0,l.Lk)("div",{class:"content has-text-centered"},[(0,l.Lk)("p",null,"© 2024 자료실 애플리케이션. 모든 권리 보유.")],-1)]))}const h={},f=(0,c.A)(h,[["render",L],["__scopeId","data-v-753e5927"]]);var b=f;const m={class:"section"},D={class:"container"};var y={__name:"App",setup(t){return(t,a)=>{const e=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(p),(0,l.Lk)("section",m,[(0,l.Lk)("div",D,[(0,l.bF)(e)])]),(0,l.bF)(b)])}}};const w=y;var _=w,g=e(1387);const E={class:"content"};function C(t,a){return(0,l.uX)(),(0,l.CE)("div",E,a[0]||(a[0]=[(0,l.Lk)("h1",{class:"title"},"자료실 애플리케이션에 오신 것을 환영합니다!",-1),(0,l.Lk)("hr",null,null,-1),(0,l.Lk)("p",null,"원하는 자료를 찾아보세요.",-1)]))}const x={},F=(0,c.A)(x,[["render",C]]);var W=F,X=(e(4114),e(4232)),O=e(144),j=(e(8992),e(4520),e(5234));const q=(0,j.nY)("product",{state:()=>({dataList:[],currentData:null}),actions:{async fetchDataList(){try{const t=await fetch("http://localhost:8081/dataroom/list");if(!t.ok)throw new Error("Failed to fetch data list");const a=await t.json();this.dataList=a}catch(t){console.error("자료 목록을 가져오는 중 오류 발생:",t)}},async fetchDataDetail(t){try{const a=await fetch(`http://localhost:8081/dataroom/detail/${t}`);if(!a.ok)throw new Error("Failed to fetch data detail");const e=await a.json();this.currentData=e}catch(a){console.error("자료 상세 정보를 가져오는 중 오류 발생:",a)}},async insertData(t){try{const a=await fetch("http://localhost:8081/dataroom/insert",{method:"POST",body:t});if(!a.ok)throw new Error("Failed to insert data");const e=await a.json();this.dataList.push(e)}catch(a){console.error("자료를 등록하는 중 오류 발생:",a)}},async updateData(t,a){try{const e=await fetch(`http://localhost:8081/dataroom/update/${t}`,{method:"PUT",body:a});if(!e.ok)throw new Error("Failed to update data");const n=await e.json(),l=this.dataList.findIndex((t=>t.dno===n.dno));-1!==l&&this.dataList.splice(l,1,n),this.currentData=n}catch(e){console.error("자료를 수정하는 중 오류 발생:",e)}},async deleteData(t){try{const a=await fetch(`http://localhost:8081/dataroom/delete/${t}`,{method:"DELETE"});if(!a.ok)throw new Error("Failed to delete data");this.dataList=this.dataList.filter((a=>a.dno!==t))}catch(a){console.error("자료를 삭제하는 중 오류 발생:",a)}}}}),I={class:"content"},V={class:"table is-fullwidth is-striped"},A=["onClick"],U={class:"pagination"},J=["disabled"],K=["onClick"],N=["disabled"],S=10;var T={__name:"DataList",setup(t){const a=q(),e=(0,g.rd)(),n=(0,O.KR)(1),o=(0,l.EW)((()=>a.dataList)),s=(0,l.EW)((()=>{const t=(n.value-1)*S,a=t+S;return o.value.slice(t,a)})),i=(0,l.EW)((()=>Math.ceil(o.value.length/S))),r=async()=>{await a.fetchDataList()},u=t=>{e.push({name:"DataDetail",params:{dno:t}})},c=()=>{e.push({name:"DataInsert"})},d=t=>{const a=new Date(t);return a.toLocaleDateString()},v=t=>{t>=1&&t<=i.value&&(n.value=t)};return(0,l.sV)((()=>{r()})),(t,a)=>((0,l.uX)(),(0,l.CE)("div",I,[a[3]||(a[3]=(0,l.Lk)("h2",{class:"title"},"자료실 목록",-1)),(0,l.Lk)("table",V,[a[2]||(a[2]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"글번호"),(0,l.Lk)("th",null,"제목"),(0,l.Lk)("th",null,"작성자"),(0,l.Lk)("th",null,"조회수"),(0,l.Lk)("th",null,"등록일")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.dno,onClick:a=>u(t.dno),style:{cursor:"pointer"}},[(0,l.Lk)("td",null,(0,X.v_)(t.dno),1),(0,l.Lk)("td",null,(0,X.v_)(t.title),1),(0,l.Lk)("td",null,(0,X.v_)(t.author),1),(0,l.Lk)("td",null,(0,X.v_)(t.hits),1),(0,l.Lk)("td",null,(0,X.v_)(d(t.resdate)),1)],8,A)))),128))])]),(0,l.Lk)("div",U,[(0,l.Lk)("button",{class:"button",disabled:1===n.value,onClick:a[0]||(a[0]=t=>v(n.value-1))},"이전",8,J),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.value,(t=>((0,l.uX)(),(0,l.CE)("button",{key:t,class:(0,X.C4)(["button",{"is-current":n.value===t}]),onClick:a=>v(t)},(0,X.v_)(t),11,K)))),128)),(0,l.Lk)("button",{class:"button",disabled:n.value===i.value,onClick:a[1]||(a[1]=t=>v(n.value+1))},"다음",8,N)]),(0,l.Lk)("button",{class:"button is-link",onClick:c},"[자료 등록]")]))}};const $=(0,c.A)(T,[["__scopeId","data-v-c5b5570e"]]);var P=$;const M={class:"content"},R={class:"field"},B={class:"control"},Y={class:"field"},z={class:"control"},G={class:"field"},H={class:"control"},Q={class:"field"},Z={class:"control"};var tt={__name:"DataInsert",setup(t){const a=q(),e=(0,g.rd)(),o=(0,O.KR)({title:"",content:"",author:"",datafile:null}),s=t=>{const a=t.target.files[0];a&&(o.value.datafile=a)},i=async()=>{const t=new FormData;t.append("title",o.value.title),t.append("content",o.value.content),t.append("author",o.value.author),o.value.datafile&&t.append("datafile",o.value.datafile),await a.insertData(t),e.push({name:"DataList"})},r=()=>{e.push({name:"DataList"})};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",M,[a[8]||(a[8]=(0,l.Lk)("h2",{class:"title"},"자료 등록",-1)),(0,l.Lk)("form",{onSubmit:(0,n.D$)(i,["prevent"])},[(0,l.Lk)("div",R,[a[3]||(a[3]=(0,l.Lk)("label",{class:"label"},"제목",-1)),(0,l.Lk)("div",B,[(0,l.bo)((0,l.Lk)("input",{class:"input",type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.value.title=t),required:""},null,512),[[n.Jo,o.value.title]])])]),(0,l.Lk)("div",Y,[a[4]||(a[4]=(0,l.Lk)("label",{class:"label"},"글 내용",-1)),(0,l.Lk)("div",z,[(0,l.bo)((0,l.Lk)("textarea",{class:"textarea","onUpdate:modelValue":a[1]||(a[1]=t=>o.value.content=t),required:""},null,512),[[n.Jo,o.value.content]])])]),(0,l.Lk)("div",G,[a[5]||(a[5]=(0,l.Lk)("label",{class:"label"},"작성자",-1)),(0,l.Lk)("div",H,[(0,l.bo)((0,l.Lk)("input",{class:"input",type:"text","onUpdate:modelValue":a[2]||(a[2]=t=>o.value.author=t),required:""},null,512),[[n.Jo,o.value.author]])])]),(0,l.Lk)("div",Q,[a[6]||(a[6]=(0,l.Lk)("label",{class:"label"},"자료파일",-1)),(0,l.Lk)("div",Z,[(0,l.Lk)("input",{class:"input",type:"file",onChange:s,accept:".pdf,.doc,.docx,image/*",required:""},null,32)])]),(0,l.Lk)("div",{class:"field is-grouped"},[a[7]||(a[7]=(0,l.Lk)("div",{class:"control"},[(0,l.Lk)("button",{type:"submit",class:"button is-link"},"[자료 등록]")],-1)),(0,l.Lk)("div",{class:"control"},[(0,l.Lk)("button",{type:"button",class:"button",onClick:r},"취소")])])],32)]))}};const at=tt;var et=at;const nt={class:"content"},lt={key:0},ot=["href"],st={key:1};var it={__name:"DataDetail",setup(t){const a=q(),e=(0,g.rd)(),n=(0,g.lq)(),o=n.params.dno,s=(0,l.EW)((()=>a.currentData)),i=async()=>{await a.fetchDataDetail(o)},r=()=>{e.push({name:"DataEdit",params:{dno:o}})},u=async()=>{confirm("정말로 이 자료를 삭제하시겠습니까?")&&(await a.deleteData(o),e.push({name:"DataList"}))},c=()=>{e.push({name:"DataList"})},d=t=>{const a=new Date(t);return a.toLocaleString()};return(0,l.sV)((()=>{i()})),(t,a)=>((0,l.uX)(),(0,l.CE)("div",nt,[a[9]||(a[9]=(0,l.Lk)("h2",{class:"title"},"자료 상세 정보",-1)),s.value?((0,l.uX)(),(0,l.CE)("div",lt,[(0,l.Lk)("p",null,[a[0]||(a[0]=(0,l.Lk)("strong",null,"글번호:",-1)),(0,l.eW)(" "+(0,X.v_)(s.value.dno),1)]),(0,l.Lk)("p",null,[a[1]||(a[1]=(0,l.Lk)("strong",null,"제목:",-1)),(0,l.eW)(" "+(0,X.v_)(s.value.title),1)]),(0,l.Lk)("p",null,[a[2]||(a[2]=(0,l.Lk)("strong",null,"글 내용:",-1)),(0,l.eW)(" "+(0,X.v_)(s.value.content),1)]),(0,l.Lk)("p",null,[a[3]||(a[3]=(0,l.Lk)("strong",null,"작성자:",-1)),(0,l.eW)(" "+(0,X.v_)(s.value.author),1)]),(0,l.Lk)("p",null,[a[4]||(a[4]=(0,l.Lk)("strong",null,"작성일시:",-1)),(0,l.eW)(" "+(0,X.v_)(d(s.value.resdate)),1)]),(0,l.Lk)("p",null,[a[5]||(a[5]=(0,l.Lk)("strong",null,"조회수:",-1)),(0,l.eW)(" "+(0,X.v_)(s.value.hits),1)]),(0,l.Lk)("p",null,[a[6]||(a[6]=(0,l.Lk)("strong",null,"자료파일:",-1)),a[7]||(a[7]=(0,l.eW)()),(0,l.Lk)("a",{href:s.value.datafile,target:"_blank"},(0,X.v_)(s.value.datafileName),9,ot)]),(0,l.Lk)("div",{class:"buttons"},[(0,l.Lk)("button",{class:"button is-warning",onClick:r},"[글 수정]"),(0,l.Lk)("button",{class:"button is-danger",onClick:u},"[글 삭제]"),(0,l.Lk)("button",{class:"button",onClick:c},"[자료실 목록]")])])):((0,l.uX)(),(0,l.CE)("div",st,a[8]||(a[8]=[(0,l.Lk)("p",null,"자료를 불러오는 중입니다...",-1)])))]))}};const rt=(0,c.A)(it,[["__scopeId","data-v-5f43f4be"]]);var ut=rt;const ct={class:"content"},dt={class:"field"},vt={class:"control"},pt={class:"field"},kt={class:"control"},Lt={class:"field"},ht={class:"control"},ft={class:"field"},bt={class:"control"},mt={class:"help"},Dt=["href"];var yt={__name:"DataEdit",setup(t){const a=q(),e=(0,g.rd)(),o=(0,g.lq)(),s=o.params.dno,i=(0,O.KR)({dno:"",title:"",content:"",author:"",datafile:"",datafileName:"",resdate:"",hits:0,newDatafile:null}),r=async()=>{await a.fetchDataDetail(s);const t=a.currentData;i.value={dno:t.dno,title:t.title,content:t.content,author:t.author,datafile:t.datafile,datafileName:t.datafileName,resdate:t.resdate,hits:t.hits,newDatafile:null}},u=t=>{const a=t.target.files[0];a&&(i.value.newDatafile=a)},c=async()=>{const t=new FormData;t.append("title",i.value.title),t.append("content",i.value.content),t.append("author",i.value.author),i.value.newDatafile&&t.append("datafile",i.value.newDatafile),await a.updateData(s,t),e.push({name:"DataList"})},d=()=>{e.push({name:"DataList"})};return(0,l.sV)((()=>{r()})),(t,a)=>((0,l.uX)(),(0,l.CE)("div",ct,[a[9]||(a[9]=(0,l.Lk)("h2",{class:"title"},"글 수정",-1)),(0,l.Lk)("form",{onSubmit:(0,n.D$)(c,["prevent"])},[(0,l.Lk)("div",dt,[a[3]||(a[3]=(0,l.Lk)("label",{class:"label"},"제목",-1)),(0,l.Lk)("div",vt,[(0,l.bo)((0,l.Lk)("input",{class:"input",type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>i.value.title=t),required:""},null,512),[[n.Jo,i.value.title]])])]),(0,l.Lk)("div",pt,[a[4]||(a[4]=(0,l.Lk)("label",{class:"label"},"글 내용",-1)),(0,l.Lk)("div",kt,[(0,l.bo)((0,l.Lk)("textarea",{class:"textarea","onUpdate:modelValue":a[1]||(a[1]=t=>i.value.content=t),required:""},null,512),[[n.Jo,i.value.content]])])]),(0,l.Lk)("div",Lt,[a[5]||(a[5]=(0,l.Lk)("label",{class:"label"},"작성자",-1)),(0,l.Lk)("div",ht,[(0,l.bo)((0,l.Lk)("input",{class:"input",type:"text","onUpdate:modelValue":a[2]||(a[2]=t=>i.value.author=t),required:""},null,512),[[n.Jo,i.value.author]])])]),(0,l.Lk)("div",ft,[a[7]||(a[7]=(0,l.Lk)("label",{class:"label"},"자료파일",-1)),(0,l.Lk)("div",bt,[(0,l.Lk)("input",{class:"input",type:"file",onChange:u,accept:".pdf,.doc,.docx,image/*"},null,32),(0,l.Lk)("p",mt,[a[6]||(a[6]=(0,l.eW)("현재 파일: ")),(0,l.Lk)("a",{href:i.value.datafile,target:"_blank"},(0,X.v_)(i.value.datafileName),9,Dt)])])]),(0,l.Lk)("div",{class:"field is-grouped"},[a[8]||(a[8]=(0,l.Lk)("div",{class:"control"},[(0,l.Lk)("button",{type:"submit",class:"button is-link"},"[글 수정]")],-1)),(0,l.Lk)("div",{class:"control"},[(0,l.Lk)("button",{type:"button",class:"button",onClick:d},"취소")])])],32)]))}};const wt=yt;var _t=wt;const gt=[{path:"/",name:"Main",component:W},{path:"/datalist",name:"DataList",component:P},{path:"/datainsert",name:"DataInsert",component:et},{path:"/datadetail/:dno",name:"DataDetail",component:ut,props:!0},{path:"/dataedit/:dno",name:"DataEdit",component:_t,props:!0}],Et=(0,g.aE)({history:(0,g.LA)(),routes:gt});var Ct=Et;const xt=(0,n.Ef)(_),Ft=(0,j.Ey)();xt.use(Ft),xt.use(Ct),xt.mount("#app")}},a={};function e(n){var l=a[n];if(void 0!==l)return l.exports;var o=a[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(a,n,l,o){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],l=t[c][1],o=t[c][2];for(var i=!0,r=0;r<n.length;r++)(!1&o||s>=o)&&Object.keys(e.O).every((function(t){return e.O[t](n[r])}))?n.splice(r--,1):(i=!1,o<s&&(s=o));if(i){t.splice(c--,1);var u=l();void 0!==u&&(a=u)}}return a}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,l,o]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){var t={524:0};e.O.j=function(a){return 0===t[a]};var a=function(a,n){var l,o,s=n[0],i=n[1],r=n[2],u=0;if(s.some((function(a){return 0!==t[a]}))){for(l in i)e.o(i,l)&&(e.m[l]=i[l]);if(r)var c=r(e)}for(a&&a(n);u<s.length;u++)o=s[u],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(c)},n=self["webpackChunkch10_myapp2"]=self["webpackChunkch10_myapp2"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=e.O(void 0,[504],(function(){return e(5879)}));n=e.O(n)})();
//# sourceMappingURL=app.f6f7c4f1.js.map